#!/usr/bin/env node

/*
 * require modules
 */
var cmd = require('commander');
var lib = require('../lib');
var package = require('../package.json');

var search = lib.search;
var log = lib.log;

cmd.version(package.version)
  .option('-s, --search <system>', 'search systems', search)
  .parse(process.argv);

if (cmd.args.length >= 1) {
  // case: no option specified. search all packages in args
  cmd.args.forEach(search);
}

// handle exceptions
process.on('uncaughtException', function(err) {
  log.error("uncaughtException ", err);
});

